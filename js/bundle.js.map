{"version":3,"sources":["webpack:///webpack/bootstrap f2409d0e29299b5f0d22","webpack:///./js/board.js","webpack:///./js/slider.js","webpack:///./js/sound.js","webpack:///./js/main.js"],"names":["BEATS","Board","createGrid","CELLS","$","children","each","idx","beat","$ul","id","i","$li","data","mousedown","toggleClass","hasClass","play","append","appendTo","Slider","curCol","stopPlay","bind","tempo","slider","addClass","audio","jQuery","setTimeout","removeClass","sound","pause","currentTime","Sound","context","AudioContext","webkitAudioContext","source","audioBuffer","initSound","stopSound","noteOff","createBufferSource","buffer","loop","connect","destination","noteOn","arrayBuffer","decodeAudioData","push","console","log","e","url","xhr","XMLHttpRequest","open","responseType","onload","response","send","document","addEventListener","soundBoard","activeSlider","$audio","$volume","$mute","$play","$pause","$tempo","playing","val","change","currentTarget","value","click","clearInterval","playLoop","reset","init"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f2409d0e29299b5f0d22","const BEATS = [\n  '../beats/KickFuture01.wav',\n  '../beats/SnareFuture02.wav',\n  '../beats/ClapsFuture07.wav',\n  '../beats/MustardFXTom1.wav',\n  '../beatsMustardHat07.wav'\n];\n\nclass Board {\n  constructor() {\n    this.createGrid();\n  }\n\n  createGrid() {\n    const CELLS = 16;\n    //create row for each beat\n    $(\".beats\").children().each( (idx, beat) => {\n        const $ul = $( `<ul class=\"${beat.id} beat-row\">`);\n        //create cell for each row with mousedown event handler\n        $(`<li class=\"${beat}-button\">`);\n\n        for (let i = 0; i < CELLS; i++) {\n          const $li = $( `<li class=\"col_${i} ${beat.id}\">`);\n          $li.data(beat, 'sound');\n\n          $li.mousedown(() => {\n            $li.toggleClass(\"on\");\n            if ($li.hasClass(\"on\") && $(\"audio\").hasClass(\"muted\") === false) {\n              beat.play();\n            }\n          });\n\n          $ul.append($li);\n        }\n\n      $ul.appendTo(\".beatbox\");\n    });\n  }\n\n\n\n }\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./js/board.js","class Slider {\n  constructor() {\n    this.curCol = 0;\n    this.stopPlay = this.stopPlay.bind(this);\n  }\n\n  init(tempo) {\n    let slider = $(`li.col_${this.curCol}`);\n      slider.addClass(\"active\");\n      slider.each((idx, beat) => {\n        const audio = $(`#${jQuery.data(beat).id}`)[0];\n        if (jQuery(beat).hasClass(\"on\") && $(\"audio\").hasClass(\"muted\") === false) {\n          this.stopPlay(audio);\n          audio.play();\n        }\n      });\n    this.curCol++;\n\n      setTimeout(() => slider.removeClass(\"active\"), tempo);\n\n      if (this.curCol > 15) {\n        this.curCol = 0;\n      }\n  }\n\n  stopPlay(sound) {\n    sound.pause();\n    sound.currentTime = 0.0;\n    // const $audio = $(\"audio\");\n    // $audio.each((idx, audio) => {\n    //   audio.pause();\n    //   audio.currentTime = 0;\n    // });\n  }\n\n  reset() {\n    this.curCol = 0;\n    let $li = $(\"li\");\n    if ($li.hasClass(\"on\")) {\n      $li.removeClass(\"on\");\n    }\n  }\n\n\n\n}\n\nexport default Slider;\n\n\n\n// WEBPACK FOOTER //\n// ./js/slider.js","class Sound {\n  constructor() {\n    this.context = new AudioContext() || new webkitAudioContext();\n    this.source = null;\n    this.audioBuffer = [];\n\n    this.initSound = this.initSound.bind(this);\n    this.stopSound = this.stopSound.bind(this);\n  }\n\n  stopSound() {\n    if (this.source) {\n      this.source.noteOff(0);\n    }\n  }\n\n  playSound() {\n    // source is global so we can call .noteOff() later.\n    this.source = context.createBufferSource();\n    this.source.buffer = this.audioBuffer;\n    this.source.loop = false;\n    this.source.connect(context.destination);\n    this.source.noteOn(0); // Play immediately.\n  }\n\n  initSound(arrayBuffer) {\n    context.decodeAudioData(arrayBuffer, (buffer) => {\n      // audioBuffer is global to reuse the decoded audio later.\n      this.audioBuffer.push(buffer);\n      console.log(this.audioBuffer);\n\n    }, (e) => {\n      console.log('Error decoding file', e);\n    });\n  }\n\n  // Load file from a URL as an ArrayBuffer.\n  // Example: loading via xhr2: loadSoundFile('sounds/test.mp3');\n  loadSoundFile(url) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.responseType = 'arraybuffer';\n    xhr.onload = (e) => {\n      this.initSound(this.response); // this.response is an ArrayBuffer.\n    };\n    xhr.send();\n  }\n}\n\nexport default Sound;\n\n\n\n// WEBPACK FOOTER //\n// ./js/sound.js","import Board from './board';\nimport Sound from './sound';\nimport Slider from './slider';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n  const soundBoard = new Board();\n  const activeSlider = new Slider();\n\n  const $audio = $(\"audio\");\n  const $volume = $(\"#volume\");\n  const $mute = $(\"#mute\");\n  const $play = $(\"#play\");\n  const $pause = $(\"#pause\");\n  const $tempo = $(\"#tempo\");\n\n  $volume.addClass(\"off\");\n  $play.addClass(\"off\");\n\n  let playing = true;\n  let tempo = $(\"input\").val();\n\n  $tempo.change((e) => {\n    tempo = 1100 - e.currentTarget.value;\n  });\n\n  $pause.click(() => {\n    clearInterval(playLoop);\n    playing = false;\n    $pause.addClass(\"off\");\n    $play.removeClass(\"off\");\n  });\n\n  $play.click(() => {\n    playing = true;\n    play();\n    $play.addClass(\"off\");\n    $pause.removeClass(\"off\");\n  });\n\n  $(\"#reset\").click(() => {\n    activeSlider.reset();\n  });\n\n  $mute.click(() => {\n    $audio.addClass(\"muted\");\n    $volume.removeClass(\"off\");\n    $mute.addClass(\"off\");\n  });\n\n  $volume.click(() => {\n    $audio.removeClass(\"muted\");\n    $volume.addClass(\"off\");\n    $mute.removeClass(\"off\");\n  });\n\n  let playLoop;\n\n    const play = () => {\n      playLoop = setTimeout(() => {\n          activeSlider.init(tempo);\n          if (playing) {\n            play();\n          }\n        }, tempo);\n    };\n\n    play();\n\n});\n\n// TODO:\n//.DS_Store\n// Production README\n\n// TODO: BONUS MVPs\n// swap sounds\n// save track\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js"],"sourceRoot":""}